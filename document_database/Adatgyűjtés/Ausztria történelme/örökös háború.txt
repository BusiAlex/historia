Miután II. Károly spanyol király 1700-ban utódok nélkül halt meg, a spanyol trónra a francia Bourbonok és Habsburg Károly (Lipót császár kisebbik fia) is igényt tartott. A túlságosan megerősödött franciák ellen beléptek a háborúba az angolok, a hollandok és a poroszok is. A háború egy mellékfrontjaként 1703-ban kirobbant a Rákóczi-féle szabadságharc is. A spanyol örökösödési háború 13 éven át dúlt, mialatt 1705-ben meghalt Lipót, majd 1711-ben a trónon utána következő I. József is. Ausztriát és a császári címet VI. Károly örökölte, aki 1714-ben kiegyezett a franciákkal: XIV. Lajos unokája megkaphatta Spanyolország trónját, de cserébe a volt Spanyol-Németalföld (a mai Belgium), Milánó, Nápoly és Szardínia (utóbbit 1720-ban elcserélték Szicíliáért) Ausztriához került.